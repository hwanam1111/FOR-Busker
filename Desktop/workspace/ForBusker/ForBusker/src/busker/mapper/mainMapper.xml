<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="main">

<select id="idCheck" parameterType="busker.scan.vo.MemberVO" resultType="busker.scan.vo.MemberVO"> 
	select * from member where memEmail=#{memEmail} AND memPw= #{memPw}
</select>
 
<select id="idchecked" parameterType="busker.scan.vo.MemberVO" resultType="busker.scan.vo.MemberVO"> 
	select * from member where memEmail=#{memEmail}
</select>

<insert id="insertMember" parameterType="busker.scan.vo.MemberVO">

<!-- simplejoin -->
	<if test="memTeamName eq null">
		INSERT INTO member(mememail, mempw, memnick, memphone) VALUES(#{memEmail}, #{memPw}, #{memNick},#{memPhone})
	</if>
	<if test="memTeamName neq null">
		INSERT INTO member(mememail, mempw, memphone, memteamtype, memteamname, memvideo, memdetail, memstatus, memtype, memteamphoto) 
		VALUES(#{memEmail}, #{memPw}, #{memPhone}, #{memTeamType}, #{memTeamName}, #{memVideo}, #{memDetail}, #{memStatus}, #{memType}, #{memTeamPhoto})
	</if>

</insert>

</mapper>
